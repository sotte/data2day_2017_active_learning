<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8"/>
<title></title>
<meta name="author" content="(Stefan Otte)"/>
<style type="text/css">
.underline { text-decoration: underline; }
</style>
<link rel="stylesheet" href="reveal.js/css/reveal.css"/>

<link rel="stylesheet" href="reveal.js/css/theme/serif.css" id="theme"/>


<!-- If the query includes 'print-pdf', include the PDF print sheet -->
<script>
    if( window.location.search.match( /print-pdf/gi ) ) {
        var link = document.createElement( 'link' );
        link.rel = 'stylesheet';
        link.type = 'text/css';
        link.href = 'reveal.js/css/print/pdf.css';
        document.getElementsByTagName( 'head' )[0].appendChild( link );
    }
</script>
<script type="text/javascript" src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
</head>
<body>
<div class="reveal">
<div class="slides">
<section>
<section id="slide-org9cd5fd6">
<h2 id="org9cd5fd6">Gamification von Suche mit Bandits und Swipes</h2>
<p>
oder: Wie man mit Small Data arbeitet
</p>

<p>
<i>Stefan Otte</i>
</p>

<p>
TODO url
<a href="https://goo.gl/8JgirR">https://goo.gl/8JgirR</a>
</p>

<p>
TODO barcode
<img src="./img/qr.png" alt="qr.png" />
</p>
</section>
</section>
<section>
<section id="slide-orgedc792b" data-background="img/dr_strangelove.jpg" data-background-size="70%">
<h2 id="orgedc792b"></h2>
</section>
</section>
<section>
<section id="slide-org54ca42f">
<h2 id="org54ca42f">Active Learning or: How I Learned to Stop Worrying and Love Small Data</h2>
<aside class="notes">
<ul>
<li>spiritual title</li>
<li>show of hands</li>

</ul>

</aside>
</section>
</section>
<section>
<section id="slide-org9496ab8">
<h2 id="org9496ab8"></h2>
<p>
<i>Stefan Otte</i>
</p>

<p>
<a href="https://github.com/sotte">https://github.com/sotte</a>
</p>

</section>
<section id="slide-orgf95e339" data-background="img/pr2.jpg" data-background-size="80%">
<h3 id="orgf95e339"></h3>
</section>
<section id="slide-orgc05deb4" data-background="img/um.png" data-background-size="400px">
<h3 id="orgc05deb4"></h3>
<aside class="notes">
<p>
Big Data
</p>

<p>
from idea to cable
</p>

<ul>
<li>Data Engineering</li>
<li>Ops</li>
<li>Data Science</li>
<li>Data Thinking - Beratungsspalte</li>

</ul>

<p>
from idea to cable
</p>

</aside>
</section>
</section>
<section>
<section id="slide-org521f037">
<h2 id="org521f037">Where are we going?</h2>
<aside class="notes">
<ul>
<li>Talks bei "Data" Konferenzen sind etwas komisch</li>
<li>sehr diverses publikum
<ul>
<li>Engineers, Big Data Zoo: Big Data Engineers, ML, Mathe und Physiker PhD,</li>
<li>Data Scientist -&gt; Daten Hausmeister</li>
<li>Marketing, Sales, Manager und C-Level</li>

</ul></li>

</ul>

<p>
Dieser Talks ist auch komisch
</p>
<ul>
<li>High Level / Novice</li>
<li>Theory -&gt; wichtig</li>
<li>Formel -&gt; PhD, griechische Buchstaben</li>
<li>Beispiel fuer die Formel</li>
<li>Konkretes Fallbeispiel einer App</li>

</ul>

<p>
Ziel:
</p>
<ul>
<li>active learning</li>

</ul>

</aside>
</section>
</section>
<section>
<section id="slide-org6e542d6">
<h2 id="org6e542d6">The Task</h2>
<aside class="notes">
<ul>
<li>Entwickle "diese App" fuer Porsche Austria</li>
<li>fun, engaging, gamified, personalized</li>
<li>Suchen von Autos genutzt wird</li>
<li>Geschmack des Users erlernt</li>
<li>Problem: keine Daten ueber Nutzer vorhanden -&gt; AL</li>

</ul>

<p>
Besseres Interface
</p>

</aside>
</section>
</section>
<section>
<section id="slide-org8f50c9c" data-background="img/cars.png" data-background-size="100%">
<h2 id="org8f50c9c"></h2>
</section>
</section>
<section>
<section id="slide-org7fa3acc" data-background="img/cars2.png" data-background-size="100%">
<h2 id="org7fa3acc"></h2>
</section>
</section>
<section>
<section id="slide-orgbe8c65f" data-background="img/cars3.png" data-background-size="100%">
<h2 id="orgbe8c65f"></h2>
</section>
</section>
<section>
<section id="slide-org63e3501" data-background="img/cars4.png" data-background-size="100%">
<h2 id="org63e3501"></h2>
</section>
</section>
<section>
<section id="slide-org2765b0a" data-background="img/cars5.png" data-background-size="100%">
<h2 id="org2765b0a"></h2>
</section>
</section>
<section>
<section id="slide-orgc168025">
<h2 id="orgc168025"></h2>

<div class="figure">
<p><img src="./img/cinder.png" alt="cinder.png" />
</p>
</div>
</section>
</section>
<section>
<section id="slide-org101d032">
<h2 id="org101d032"><i>"Nothing Is Quite So Practical as a Good Theory"</i></h2>
<p>
&#x2013; Kurt Lewin
</p>
<aside class="notes">
<p>
Fallbeispiel - koennte erzaehlen wir alles umgesetzt haben, lessons learned.
</p>

<p>
Aber, hier ist hier mehr
</p>

<p>
German-American Psychologist
pioneers of social, organizational, and applied psychology
Founder of social psychology
</p>

</aside>
</section>
</section>
<section>
<section id="slide-orgb5bbd28">
<h2 id="orgb5bbd28">Active Learning</h2>
<div class="outline-text-2" id="text-orgb5bbd28">
</div></section>
<section id="slide-org58c4359">
<h3 id="org58c4359"></h3>
<p>
<i>"The key idea behind <b>active learning</b> is that a machine learning algorithm can achieve <b>greater accuracy</b> with <b>fewer training labels</b> if it is allowed to <b>choose the data</b> from which it learns.</i>
</p>
</section>
<section id="slide-orga24a1a3">
<h3 id="orga24a1a3"></h3>
<p>
<i>An active learner may <b>pose queries</b>, usually in the form of unlabeled data instances to be labeled by an oracle (e.g., a human annotator).</i>
</p>
</section>
<section id="slide-org2048fd9">
<h3 id="org2048fd9"></h3>
<p>
<i>Active learning is well-motivated in many modern machine learning problems, where unlabeled data may be abundant or easily obtained, but <b>labels are difficult, time-consuming, or expensive to obtain</b>."</i>
</p>

<p>
&#x2013; Burr Settles, Active Learning Literature Survey
</p>

<aside class="notes">
<ul>
<li>greater accuracy</li>
<li>fewer training labels</li>
<li>pose queries</li>
<li>when labels are expensive</li>

</ul>

</aside>
</section>
<section id="slide-org725a8e8" data-background="img/al.png" data-background-size="50%" data-background-transition="slide">
<h3 id="org725a8e8"></h3>

</section>
<section id="slide-orgb3da3cd" data-background="img/burr_settles.jpg" data-background-transition="slide">
<h3 id="orgb3da3cd"></h3>
<aside class="notes">
<p>
ML dep von CMU?
G8 demo
</p>

</aside>
</section>
<section id="slide-orgc191318">
<h3 id="orgc191318"></h3>
<p>
greater accuracy with fewer training labels
</p>

<p class="fragment (roll-in)">
<b>&rarr; "good data<sup>TM</sup>"</b>
</p>

<p>
actively query for data
</p>

<p class="fragment (roll-in)">
<b>&rarr; sequential decision making</b>
</p>

<aside class="notes">
<p>
the essence of active learning
</p>

</aside>
</section>
</section>
<section>
<section id="slide-org5f20c49">
<h2 id="org5f20c49">\({\huge \textbf{X} \rightarrow} \begin{bmatrix} cat\\ dog\\ \vdots\\ cat \end{bmatrix}\)</h2>
</section>
</section>
<section>
<section id="slide-org30881d9">
<h2 id="org30881d9">\({\huge \textbf{X} \rightarrow} \begin{bmatrix} ?\\ ?\\ \vdots\\ ? \end{bmatrix}\)</h2>
</section>
</section>
<section>
<section id="slide-orgb35641b">
<h2 id="orgb35641b">What is <b>Interesting</b>?</h2>
</section>
</section>
<section>
<section id="slide-orgbd0c94c" data-background="img/al_scenarios.svg.p0.svg" data-background-size="50%" data-background-transition="slide">
<h2 id="orgbd0c94c"></h2>
</section>
</section>
<section>
<section id="slide-org547c7ff" data-background="img/al_scenarios.svg.p1.svg" data-background-size="50%" data-background-transition="slide">
<h2 id="org547c7ff"></h2>
</section>
</section>
<section>
<section id="slide-orgfe7e628" data-background="img/al_scenarios.svg.p2.svg" data-background-size="50%" data-background-transition="slide">
<h2 id="orgfe7e628"></h2>
</section>
</section>
<section>
<section id="slide-orgc3b3af1" data-background="img/al_scenarios.svg.p3.svg" data-background-size="50%" data-background-transition="slide">
<h2 id="orgc3b3af1"></h2>
</section>
</section>
<section>
<section id="slide-orgbda6ecb" data-background="img/al_scenarios.svg.p4.svg" data-background-size="50%" data-background-transition="slide">
<h2 id="orgbda6ecb"></h2>
</section>
</section>
<section>
<section id="slide-org700602a" data-background="img/al_scenarios.svg.p5.svg" data-background-size="50%" data-background-transition="slide">
<h2 id="org700602a"></h2>
</section>
</section>
<section>
<section id="slide-orgfdba537" data-background="img/al_scenarios.svg.p6.svg" data-background-size="50%" data-background-transition="slide">
<h2 id="orgfdba537"></h2>
</section>
</section>
<section>
<section id="slide-orgfc2946b" data-background="img/al_scenarios.svg.p7.svg" data-background-size="50%" data-background-transition="slide">
<h2 id="orgfc2946b"></h2>
</section>
</section>
<section>
<section id="slide-orgd8dc31b" data-background="img/al_scenarios.svg.p8.svg" data-background-size="50%" data-background-transition="slide">
<h2 id="orgd8dc31b"></h2>
</section>
</section>
<section>
<section id="slide-org37795d1" data-background="img/al_scenarios.svg.p9.svg" data-background-size="50%" data-background-transition="slide">
<h2 id="org37795d1"></h2>
</section>
</section>
<section>
<section id="slide-orge9e8f5b">
<h2 id="orge9e8f5b">What is <b>Interesting</b>?</h2>
<ul class="fragment appear">
<li>uncertainty
<ul>
<li>least confident</li>
<li>margin</li>
<li>entropy</li>

</ul></li>
<li>query-by-committee</li>
<li>expected model change (decision theory)</li>
<li>expected error reduction</li>
<li>expected variance reduction</li>
<li>&#x2026;</li>

</ul>
</section>
</section>
<section>
<section id="slide-orgea2ef0d" data-background="img/tcr.png" data-background-size="100%">
<h2 id="orgea2ef0d"></h2>
<aside class="notes">
<ul>
<li>active learning to make a robot explore and learn a room</li>
<li>learn properties of the world (movable and in what way)</li>
<li>expected information gain</li>
<li>robot created the data, not the human</li>

</ul>

</aside>
</section>
</section>
<section>
<section id="slide-orga0240ba">
<h2 id="orga0240ba">Gamification of Search</h2>
</section>
</section>
<section>
<section id="slide-orged4ad22" data-background="img/cars.png" data-background-size="100%">
<h2 id="orged4ad22"></h2>
</section>
</section>
<section>
<section id="slide-orgd13457b" data-background="img/cars10.png" data-background-size="100%">
<h2 id="orgd13457b"></h2>
</section>
</section>
<section>
<section id="slide-orga8faf86" data-background="img/cars11.png" data-background-size="100%">
<h2 id="orga8faf86"></h2>
</section>
</section>
<section>
<section id="slide-org202b539" data-background="img/cars12.png" data-background-size="100%">
<h2 id="org202b539"></h2>
</section>
</section>
<section>
<section id="slide-orgde319d2" data-background="img/cars13.png" data-background-size="100%">
<h2 id="orgde319d2"></h2>
</section>
</section>
<section>
<section id="slide-orge94b6ff" data-background="img/vegas.jpg" data-background-size="100%">
<h2 id="orge94b6ff"></h2>
</section>
<section id="slide-org1a77d12">
<h3 id="org1a77d12">Multi-Armed Bandits</h3>
<p>
Problem statement
</p>
<ol>
<li class="fragment roll-in">Find a multi-armed bandit</li>
<li class="fragment roll-in">Play arms using bandit theory</li>
<li class="fragment roll-in">Profit $$$</li>

</ol>
</section>
<section id="slide-orgddbe90d">
<h3 id="orgddbe90d">Problem statement</h3>
<ul>
<li>given a bandit with \(n\) arms</li>
<li>each arm \(i \in {1,\dots,n}\) returns reward</li>

</ul>
<p>
\[y \sim P(y; \theta_i)\]
</p>

<p class="fragment (roll-in)">
<b>Goal</b>: Find a policy that 
\[\max \sum_{t=1}^T y_t\]
</p>

</section>
</section>
<section>
<section id="slide-org7b4569b">
<h2 id="org7b4569b">UCB</h2>
<p class="fragment roll-in">
past performance + exploration bonus
</p>
<aside class="notes">
<ul>
<li>Upper confident bound</li>
<li>"Optimism in the face of uncertainty"</li>
<li>Greedy</li>
<li>Not optimal, but bounded</li>
<li>Exploration vs Exploitation</li>
<li>Many variations of UCB</li>

</ul>

</aside>

</section>
<section id="slide-orgeebcd9b">
<h3 id="orgeebcd9b">UCB1</h3>
<p class="fragment roll-in">
Play each arm once
</p>

<p class="fragment roll-in">
Then play arm that \[\Large \arg\max_i \; \bar\mu_i + \sqrt{\frac{2\ln n}{n_i}}\]
</p>
<ul class="fragment roll-in">
<li>\(\bar\mu_i\): mean reward of arm \(i\)</li>
<li>\(n\): total rounds played</li>
<li>\(n_i\): rounds arm \(i\) was played</li>

</ul>

</section>
</section>
<section>
<section id="slide-org8e5f275">
<h2 id="org8e5f275">Demo</h2>
</section>
</section>
<section>
<section id="slide-org4c32c06">
<h2 id="org4c32c06">Where are we?</h2>
<aside class="notes">
<ul>
<li>active learning</li>
<li>bandits</li>
<li>UCB family</li>
<li>UCB1 example</li>

<li>app with swiping</li>
<li>using bandits</li>

</ul>

</aside>
</section>
</section>
<section>
<section id="slide-orgde979d6">
<h2 id="orgde979d6">One Bandit per Feature</h2>
<ul>
<li class="fragment roll-in">brand bandit
<ul>
<li>arms: Porsche, VW, &#x2026;</li>

</ul></li>
<li class="fragment roll-in">car body bandit
<ul>
<li>arms: SUV, coupe, &#x2026;</li>

</ul></li>
<li class="fragment roll-in">segment bandit
<ul>
<li>arms: sports car, economy, &#x2026;</li>

</ul></li>

</ul>

<aside class="notes">
<p>
Wenn man swiped,
zieht man einen Arm an jedem multi-armed Bandit.
D.h. man zieht an drei Armen.
</p>

<p>
Porsche und VW sind auspraegungeng des Features 'Brand'
</p>

<p>
each bandit creates a <b>ranking</b> for the given feature
</p>

</aside>

</section>
</section>
<section>
<section id="slide-org615aab7">
<h2 id="org615aab7">Ranking with Elasticsearch</h2>
<aside class="notes">
<ul>
<li>ES made for creating rankings</li>
<li>output of bandits is input of elasticsearch query</li>

</ul>

</aside>
<p>
<img src="./img/es_ranking.png" alt="es_ranking.png" />
<img src="./img/es.png" alt="es.png" />
</p>
</section>
</section>
<section>
<section id="slide-orgc735495" data-background="img/bias.png" data-background-size="100%">
<h2 id="orgc735495">Popularity Bias</h2>
</section>
</section>
<section>
<section id="slide-orgad18e64" data-background="img/segmentation.png" data-background-size="120%">
<h2 id="orgad18e64"></h2>
<aside class="notes">
<ul>
<li>Sparse PCA to find set of sparse components that can optimally reconstruct the data</li>
<li>Then clustering</li>

</ul>

</aside>
</section>
</section>
<section>
<section id="slide-org73aa91c">
<h2 id="org73aa91c">Practical Remarks</h2>
<ul>
<li class="fragment roll-in">Pythons all the way down ;D</li>
<li class="fragment roll-in">sklearn</li>
<li class="fragment roll-in">Flask REST API</li>
<li class="fragment roll-in">Elasticsearch</li>

</ul>
</section>
</section>
<section>
<section id="slide-orgc7ed232">
<h2 id="orgc7ed232">Conclusion</h2>
<p class="fragment roll-in">
Active Learning or: How I Learned to Stop Worrying and Love Small Data
</p>

</section>
</section>
<section>
<section id="slide-orgb8dc924">
<h2 id="orgb8dc924">Related Topics</h2>
<ul>
<li>Sequential Decision Making</li>
<li>Experimental Design</li>
<li>(Bayesian) Reinforcement Learning</li>
<li>Global Optimizaiton</li>
<li>Optimal solution exists: planning in <b>belief space</b>, but is infeasible</li>
<li>Tuning hyperparams with <a href="https://github.com/zygmuntz/hyperband">Hyperband</a></li>

</ul>
</section>
</section>
<section>
<section id="slide-org7623955">
<h2 id="org7623955">Thanks!</h2>
<p>
<b>Questions?</b>
</p>

<p>
<i>Stefan Otte</i>
</p>

<p>
TODO url &amp; Logo
</p>

<p>
<a href="https://goo.gl/8JgirR">https://goo.gl/8JgirR</a>
</p>


<div class="figure">
<p><img src="./img/qr.png" alt="qr.png" />
</p>
</div>
</section>
</section>
<section>
<section id="slide-orga136ae8">
<h2 id="orga136ae8">References</h2>
<ul>
<li><a href="http://burrsettles.com/pub/settles.activelearning.pdf">Active Learning Literature Survey</a></li>
<li><a href="http://homes.dsi.unimi.it/~cesabian/Pubblicazioni/ml-02.pdf">Finite-time Analysis of the Multiarmed Bandit Problem - Auer et al</a></li>
<li><a href="https://ipvs.informatik.uni-stuttgart.de/mlr/marc/teaching/14-BanditsOptimizationActiveLearningBayesianRL.pdf">Bandits, Global Optimization, Active Learning, and Bayesian RL &#x2013; understanding the common ground - Toussaint</a> <a href="https://www.youtube.com/watch?v=5rev-zVx1Ps">video</a></li>

</ul>

</section>
</section>
<section>
<section id="slide-org64d87e8">
<h2 id="org64d87e8">Thanks!</h2>
<p>
<b>Questions?</b>
</p>

<p>
<i>Stefan Otte</i>
</p>

<p>
TODO url &amp; barcode
</p>

<p>
<a href="https://goo.gl/8JgirR">https://goo.gl/8JgirR</a>
</p>


<div class="figure">
<p><img src="./img/qr.png" alt="qr.png" />
</p>
</div>
</section>
</section>
</div>
</div>
<script src="reveal.js/lib/js/head.min.js"></script>
<script src="reveal.js/js/reveal.js"></script>

<script>
// Full list of configuration options available here:
// https://github.com/hakimel/reveal.js#configuration
Reveal.initialize({

controls: true,
progress: true,
history: true,
center: true,
slideNumber: 'c',
rollingLinks: false,
keyboard: true,
overview: true,

theme: Reveal.getQueryHash().theme, // available themes are in /css/theme
transition: Reveal.getQueryHash().transition || 'slide', // default/cube/page/concave/zoom/linear/fade/none
transitionSpeed: 'default',
multiplex: {
    secret: '', // null if client
    id: '', // id, obtained from socket.io server
    url: '' // Location of socket.io server
},

// Optional libraries used to extend on reveal.js
dependencies: [
 { src: 'reveal.js/lib/js/classList.js', condition: function() { return !document.body.classList; } },
 { src: 'reveal.js/plugin/markdown/marked.js', condition: function() { return !!document.querySelector( '[data-markdown]' ); } },
 { src: 'reveal.js/plugin/markdown/markdown.js', condition: function() { return !!document.querySelector( '[data-markdown]' ); } },
 { src: 'reveal.js/plugin/zoom-js/zoom.js', async: true, condition: function() { return !!document.body.classList; } },
 { src: 'reveal.js/plugin/notes/notes.js', async: true, condition: function() { return !!document.body.classList; } }]
});
</script>
</body>
</html>
